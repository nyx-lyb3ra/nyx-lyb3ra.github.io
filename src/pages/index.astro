---
import BaseLayout from "@/layouts/base-layout.astro";
---

<BaseLayout title="nyx@nixos:~">
  <div id="terminal" role="log" aria-live="polite">
    <pre
      class="ascii-art"> _ __  _   _ __  __
| '_ \| | | |\ \/ /
| | | | |_| | &gt;  &lt;
|_| |_|\__, |/_/\_\
       |___/</pre>

    <div>
      Welcome back. All systems operational. Type 'help' to see available
      commands.
    </div>

    <nav class="nav-hints">
      <button class="btn">whoami</button>
      <button class="btn">ls stack</button>
      <button class="btn">links</button>
      <button class="btn">cat config</button>
      <button class="btn">clear</button>
    </nav>

    <div id="history"></div>
  </div>

  <form class="command-input-area">
    <label for="command-input" class="user">nyx</label>
    <span style="color:var(--dim)">@</span>
    <span class="host">nixos</span>
    <span style="color:var(--dim)">:</span>
    <span class="dir">~</span>
    <span class="highlight">$</span>

    <input
      type="text"
      id="command-input"
      autocomplete="off"
      spellcheck="false"
      autofocus
      aria-label="Terminal input"
    />
  </form>
</BaseLayout>

<style>
  #terminal {
    display: flex;
    flex-direction: column;
    flex-grow: 1;

    gap: 2ch;

    overflow-y: auto;

    scrollbar-width: thin;
    scrollbar-color: var(--accent) transparent;

    &::-webkit-scrollbar {
      width: 0.25rem;
    }

    &::-webkit-scrollbar-thumb {
      background-color: var(--accent);
    }
  }

  .ascii-art {
    color: var(--accent);
    font-weight: bold;
  }

  .nav-hints {
    display: flex;
    flex-wrap: wrap;
    gap: 1ch;
  }

  .btn {
    background: var(--btn-bg);
    border: 1px solid var(--btn-border);
    color: var(--dim);

    font-family: "Cascadia Code", monospace;
    font-weight: 500;
    font-size: 0.75rem;

    padding: 0.5rem 0.75rem;
    border-radius: 0.5rem;

    cursor: pointer;
    transition: all 0.2s;

    &:hover {
      border-color: var(--accent);
      color: var(--accent);
      transform: translateY(-1px);
    }
  }

  .command-input-area {
    background: var(--bg);
    border-top: 1px solid var(--border);

    display: flex;
    align-items: center;

    position: fixed;
    bottom: 0;
    left: 0;

    width: 100%;

    padding: 15px 20px;
    gap: 10px;

    z-index: 10;
  }

  .user {
    color: var(--accent);
    font-weight: bold;
  }

  .host {
    color: var(--host-color);
  }

  .dir {
    color: var(--dir-color);
  }

  input {
    background: transparent;
    border: none;
    outline: none;
    color: var(--fg);

    font-family: inherit;
    font-size: 1rem;

    flex-grow: 1;

    width: 100%;
  }
</style>
